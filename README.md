# 2025 AICS Bloom AI Stock Model 📈

</br>

## 🏗 프로젝트 개요
이 프로젝트는 **전북 전주시의 기온 및 강수량 데이터**를 기반으로 **KOSPI 상위 10개 종목의 주가 예측**을 수행하는 **실시간 예측 시스템을 구축**하는 것을 목표로 합니다.
이를 위해 **XGBoost 모델을 활용**하여 **학습을 진행**하였으며, **실시간 데이터 수집 및 예측 시스템을 구현**했습니다.

</br>

## 🛠 주요 기술 및 라이브러리
- 데이터 수집 : ```FinanceDataReader```, ```기상청 API```
- 데이터 전처리 및 분석 : ```pandas, numpy```, ```scikit-learn```
- 머신러닝 모델 : ```XGBoost```
- 시각화 : ```matplotlib```, ```seaborn```

</br>

## 🔍 수행 과정 설명

### 1️⃣ 데이터 수집 및 전처리

#### 📌 주가 데이터 수집
- ```FinanceDataReader```를 활용하여 KOSPI 상위 10개 종목의 주가 데이터를 가져왔습니다.
- 주요 컬럼 : Open(시가), High(고가), Low(저가), Close(종가), Volume(거래량)
- 데이터 기간: 2024-01-01 - 2024-12-31

#### 📌 기상 데이터 수집
- 기상청 API를 활용하여 전라북도 전주시의 기온(°C) 및 강수량(mm) 데이터 수집했습니다.
- ```pandas```를 활용하여 데이터 전처리 수행 및 날짜 기준으로 주가 데이터와 병합했습니다.

</br>

### 2️⃣ 특징 엔지니어링

주가 예측의 성능을 향상시키기 위해 다양한 특징(feature)을 추가했습니다.

#### 📌 1. 주가 변화량 및 변동률 추가
- ```Change``` : (종가 - 시가) → ```하루 동안의 주가 변동량```
- ```ChangeRatio``` : (변동량 / 시가) × 100 → ```변동률(%) 계산```

#### 📌 2. 과거 데이터 기반 특징 생성
- ```Prev_Close``` : 전일 종가 추가하여 현재 주가와 비교 가능하도록 설정했습니다.
- ```Price_Change``` : (금일 종가 - 전일 종가) / 전일 종가 → ```전일 대비 주가 변동률```

#### 📌 3. 거래량 기반 추가 특징 생성
- ```Prev_Volume``` : 전일 거래량을 추가했습니다.
- ```Volume_Change``` : (금일 거래량 - 전일 거래량) / 전일 거래량 → ```거래량 변화율```

#### 📌 4. 이동 평균 (Moving Average) 추가
- ```Moving_Avg_5``` : 5일 이동 평균 (단기 흐름)
- ```Moving_Avg_10``` : 10일 이동 평균
- ```Moving_Avg_20``` : 20일 이동 평균 (장기 흐름)

#### 📌 6. 요일 정보 추가
- ```Weekday``` : 요일 정보(0 : 월요일 ~ 6 : 일요일)를 추가했습니다.
- 요일별 주가 패턴 차이를 모델이 학습할 수 있도록 했습니다.

#### 📌 7. 종목명을 One-Hot Encoding 변환
- 종목명을 One-Hot Encoding 처리하여 모델이 개별 종목의 특성을 학습할 수 있도록 했습니다.

#### 📌 8. 데이터 정규화 (MinMax Scaling)
- 모든 특징을 0~1 범위로 정규화하여 모델 학습에 있어 최적화를 목표로 했습니다.

</br>

### 3️⃣ XGBoost 모델 학습

- ```입력 변수``` : 주가 데이터(시가, 고가, 저가, 종가, 거래량) + 기온 + 강수량
- ```출력 변수``` : Close(종가) 예측값
- ```MSE(Mean Squared Error)```, ```RMSE(Root Mean Squared Error)```, ```R² Score```를 활용하여 모델 평가를 진행했습니다.

</br>

#### 4️⃣ 실시간 예측 시스템 구축
- 최신 기온 및 강수량 데이터를 입력하여 실시간 주가를 예측할 수 있도록 했습니다.
- 예측 결과를 API 또는 서비스와 연동할 수 있도록 설계했습니다.

</br>

## 🧩 사용한 데이터 내역

### 데이터 출처
| 데이터명 | 기준 | 출처 | 링크 |
|:------:|:------:|:------:|:------:|
| 강수량 | 2024.01 - 2024.12 / 전북 전주시 | 기상청 기상자료개방포털 | https://data.kma.go.kr/stcs/grnd/grndRnList.do?pgmNo=69 |
| 기온 | 2024.01 - 2024.12 / 전북 전주시 | 기상청 기상자료개방포털 |  https://data.kma.go.kr/stcs/grnd/grndTaList.do?pgmNo=70 |
| KOSPI 상위 10개 종목 | 2024.01 - 2024.12 | KRX | FinanceDataReader |

</br>
